<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link th:href="@{/css/bootstrap.css}" rel="stylesheet">
<link th:href="@{/css/review_list.css}" rel="stylesheet">
</head>
<body>
	<header>
		<div class="top">
			<p>このサイトは<span th:text="${user.userName}"></span>さんが食べたラーメンを記録していくものです。食べたものを記録して、みんなと記録を共有しましょう。</p>
		</div>
		
		<div class="bigInfo">
			<div class="info">
				<ul>
					<li><form th:action="@{/showReview}"><button id="logo"><span class="logo">RaaaaLife</span></button></form></li>
					<li><h3 class="title">みんなのらぁめん記録</h3></li>
				</ul>
			</div>
			
			<div class="smallInfo">
				<ul>
					<li><img th:src="${user.userIcon.iconImagePath}" class="img" onerror="this.src='/img/user.jpg'"/></li>
					<li><a type="button" th:href="@{'/userDetail/toDetail?userId=' + ${user.userId}}"><span th:text="${user.userName}"></span></a></li>
					<li><a th:href="@{/review/toInsert}">投稿</a></li>
					<li><a th:href="@{/logout}">ログアウト</a></li>
				</ul>
			</div>
		</div>

		<div class="top"></div>
	</header>

	<main>
		<div th:text="${message}" style="font-size: 20px; text-align: center;"></div>

		<section>
			<div class="card-deck">
				<div class="row row-eq-height">
					<div class="col-md-3" th:each="review : ${reviewList}">
						<div class="card ramen">
							<a th:href="@{'/detail?reviewId=' + ${review.reviewId}}"> 
							<input type="hidden" name="userId"> 
							<img class="card-img-top img-fluid row-eq-height photo" th:src="${review.ramenImage.imagePath}"></a>
							<div class="card-body px-2 py-3 text-center">
								<a th:href="@{'/detail?reviewId=' + ${review.reviewId}}">
									<input type="hidden" name="userId"> 
									<span class="card-title" th:text="${review.ramenShop.shopName}"></span><br>
								</a> post by <span th:text="${review.user.userName}"></span>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>
	</main>
	
	
	<!-- pagination -->
	<div class="pages">
		<nav class="page-nav">
			<ul class="pager">
				<li class="previous" th:if="${start != 0}">
				<a th:href="@{'/showReview?start='+${start - 8}}">&larr; prev</a></li>
				<li class="next" th:if="${count > start + 8}">
				<a th:href="@{'/showReview?start='+${start + 8}}">next &rarr;</a></li>
			</ul>
		</nav>
	</div>
	
</body>
</html>