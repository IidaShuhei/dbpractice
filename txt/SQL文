-- ユーザー
drop table if exists users cascade;

create table users (
user_id serial primary key
 , user_name varchar(100) not null
 , password text not null
 , user_icon_id int
 , user_rank_id int default 1
 , created_by varchar(50) not null
 , created_at date default null
 , updated_by varchar(50) default null
 , updated_at date default null
 , version int default null
 , deleted_by varchar(50) default null
 , deleted_at date default null
) ;

-- ユーザーメール
drop table if exists user_mails cascade;

create table user_mails (
user_id int not null
, mail_type_id int not null
, mail_address varchar(100) default null
);

-- ユーザーアイコン
drop table if exists user_icons cascade;

create table user_icons (
icon_id serial primary key
, icon_image_path text
);

-- ユーザーランク
drop table if exists user_ranks cascade;

create table user_ranks (
rank_id serial primary key
, user_rank varchar(50)
);

insert into user_ranks(user_rank)values('ルーキ-1'),('ルーキー2'),('ルーキー3'),('ブロンズ1'),('ブロンズ2'),('ブロンズ3'),('シルバー1'),('シルバー2'),('シルバー3'),
('ゴールド1'),('ゴールド2'),('ゴールド3'),('プラチナ1'),('プラチナ2'),('プラチナ3'),('レジェンド1'),('レジェンド2'),('レジェンド3'),('キング');


-- ユーザー登録
insert into user_icons(icon_id,icon_image_path)values(1,'こんにちは');


-- ラーメン店舗
drop table if exists ramen_shops cascade;

create table ramen_shops (
shop_id serial primary key
, shop_name text not null
, zipcode varchar(7) not null
, prefecture varchar(4) not null
, city varchar(100) not null
, other varchar(100)
, holidays text not null
 , created_by varchar(50) not null
 , created_at date default null
 , updated_by varchar(50) default null
 , updated_at date default null
 , version int default null
 , deleted_by varchar(50) default null
 , deleted_at date default null
);

-- ラーメン店舗営業時間
drop table if exists ramen_shops_times cascade;

create table ramen_shops_times (
shop_id int
, days_id int
, noon_start_time text
, noon_end_time text
, night_start_time text
, night_end_time text
, other_time text
);

-- ラーメン情報
drop table if exists ramens cascade;

create table ramens (
ramen_id serial primary key
, shop_id int not null
, ramen_name varchar(50) not null
, ramen_price int not null
, ramen_image_path_id int default null
 , created_by varchar(50) not null
 , created_at date default null
 , updated_by varchar(50) default null
 , updated_at date default null
 , version int default null
 , deleted_by varchar(50) default null
 , deleted_at date default null
);

-- ラーメン画像
drop table if exists ramen_images cascade;

create table ramen_images (
image_id serial primary key
, image_path text not null
);


-- 記事
drop table if exists articles cascade;

create table articles (
article_id serial primary key
, user_id int not null
, shop_id int not null
);